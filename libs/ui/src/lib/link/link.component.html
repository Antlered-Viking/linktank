<div class="link-container">
  <div *ngIf="link" class="link-unit">
    <div class="pointer padded">
      <img
        class="icon"
        [src]="link.isRead ? 'assets/check-icon.svg' : 'assets/eye-icon.svg'"
        (click)="toggleReadStatus()"
      />
    </div>
    <p hidden>{{ link.id }}</p>
    <a *ngIf="!editingURL" [href]="link.url" target="_blank">{{ link.url }}</a>
    <input
      *ngIf="editingURL"
      class="edit-url-input"
      [value]="link.url"
      [(ngModel)]="link.url"
      (change)="updateUrl()"
    />
    <div class="flex-spacer"></div>
    <div class="edit-delete">
      <div class="pointer padded" (click)="toggleEditUrl()">
        <img class="icon" src="assets/edit-icon.svg" />
      </div>
      <div class="pointer padded" (click)="deleteLink()">
        <img class="icon" src="assets/delete-icon.svg" />
      </div>
    </div>
  </div>
  <div class="tags">
    <span *ngFor="let tag of link.tags">
      <span class="tag">
        <a
          routerLink="../links"
          [queryParams]="{ filter: tag }"
          [hidden]="editingTag"
          style="color: var(--secondary-accent-color); cursor: pointer"
          >#</a
        >
        <input
          type=" text"
          class="tag-input"
          name="tagInput"
          [hidden]="!editingTag"
          [(ngModel)]="editTagInput"
          (keydown.enter)="editTag(tag)"
        />
        <span class="tag-text" (click)="toggleEditTag()">{{ tag }}</span>
      </span>
    </span>
    <span *ngIf="addingTag" class="tag-input-container">
      <input
        type="text"
        class="tag-input"
        name="tagInput"
        [(ngModel)]="tagInput"
        (keydown.enter)="addTag(tagInput)"
      />
    </span>
    <span class="pointer" (click)="toggleAddTag()">
      <img class="icon" src="assets/tag-icon.svg" />
    </span>
  </div>
</div>
