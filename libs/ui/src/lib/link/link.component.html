<div class="link-container">
  <div *ngIf="link" class="link-unit">
    <div class="pointer padded">
      <img class="icon" [src]="link.isRead ? 'assets/check-icon.svg' : 'assets/eye-icon.svg'"
        (click)="toggleReadStatus()" />
    </div>
    <p hidden>{{ link.id }}</p>
    <a *ngIf="!editingURL" [href]="link.url" target="_blank">{{ link.url }}</a>
    <input *ngIf="editingURL" class="edit-url-input" [value]="link.url" [(ngModel)]="link.url" (change)="updateUrl()" />
    <div class="flex-spacer"></div>
    <div class="edit-delete">
      <div class="pointer padded" (click)="toggleEditUrl()">
        <img class="icon" src="assets/edit-icon.svg" />
      </div>
      <div class="pointer padded" (click)="deleteLink()">
        <img class="icon" src="assets/delete-icon.svg" />
      </div>
    </div>
  </div>
  <div class="tags">
    <span class="tag" *ngFor="let tag of link.tags; index as i">
      <span>
        <a routerLink="../links" [queryParams]="{ filter: tag }" [hidden]="editingTag && tagBeingEdited === tag"
          style="color: var(--secondary-accent-color); cursor: pointer">#</a>
        <span [hidden]="!editingTag || tagBeingEdited !== tag">
          <img src="assets/undo-icon.svg" class="icon" (click)="toggleEditTag(tag)">
          <input type=" text" class="tag-input" name="tagInput" [(ngModel)]="editTagInput"
            (keydown.enter)="editTag(link.tags[i])" />
          <img src="assets/delete-icon.svg" class="icon" (click)="deleteTag(tag)">
        </span>
        <span class="tag-text" [hidden]="editingTag && tagBeingEdited === tag" (click)="toggleEditTag(tag)">{{ tag
          }}</span>
      </span>
    </span>
    <span *ngIf="addingTag" class="tag-input-container">
      <input type="text" class="tag-input" name="tagInput" [(ngModel)]="tagInput" (keydown.enter)="addTag(tagInput)" />
    </span>
    <span class="pointer" (click)="toggleAddTag()">
      <img class="icon padded" src="assets/tag-icon.svg" />
    </span>
  </div>
</div>
